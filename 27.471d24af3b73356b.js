"use strict";(self.webpackChunkelearnWeb=self.webpackChunkelearnWeb||[]).push([[27],{6027:(ee,A,l)=>{l.r(A),l.d(A,{AuthModule:()=>te});var c=l(9808),T=l(5500),u=l(1735),i=l(4182),d=l(7625),x=l(537),g=l(2994),f=l(7221),v=l(8929),h=l(1086),t=l(5e3),w=l(4830),_=l(7863),b=l(2870);function U(o,r){1&o&&(t.TgZ(0,"span",30),t._uU(1,"E-mail is required."),t.qZA())}function P(o,r){1&o&&(t.TgZ(0,"span",30),t._uU(1,"Please enter a valid email address."),t.qZA())}function F(o,r){if(1&o&&(t.TgZ(0,"div",28),t.YNc(1,U,2,0,"span",29),t.YNc(2,P,2,0,"span",29),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.userPasswordResetFormControls.email.errors.required),t.xp6(1),t.Q6J("ngIf",e.userPasswordResetFormControls.email.errors.email)}}function O(o,r){1&o&&(t.TgZ(0,"button",31),t._uU(1," Send OTP "),t.qZA())}function J(o,r){1&o&&(t.TgZ(0,"button",32),t._uU(1," Sending... "),t.TgZ(2,"span",33),t.O4$(),t.TgZ(3,"svg",34),t._UZ(4,"circle",35)(5,"path",36),t.qZA()()())}function N(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.errorMessage.subTitle)}}function L(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.cancelAlert())}),t._uU(1,"Ok"),t.qZA()}}function M(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.commonService.routingWithoutReplaceUrl("auth/otp-validation"))}),t._uU(1,"Ok"),t.qZA()}}function Q(o,r){if(1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"app-alert-modal",37)(1,"div",38)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,N,2,1,"span",39),t.qZA(),t.TgZ(5,"div",40),t.YNc(6,L,2,0,"button",41),t.YNc(7,M,2,0,"button",41),t.qZA()()),2&o){const e=t.oxw();t.Q6J("error",!0),t.xp6(3),t.Oqu(e.errorMessage.title),t.xp6(1),t.Q6J("ngIf",e.errorMessage.subTitle),t.xp6(2),t.Q6J("ngIf",!e.errorMessage.subTitle),t.xp6(1),t.Q6J("ngIf",e.errorMessage.subTitle)}}function B(o,r){if(1&o){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"app-alert-modal",43)(1,"div",38)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Please verify your mail and enter the otp"),t.qZA()(),t.TgZ(6,"div",40)(7,"button",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.cancelSuccessAlert())}),t._uU(8,"Ok"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("success",!0),t.xp6(3),t.hij("OTP has been sent to ",e.commonService.maskedEmail,"")}}const Y=function(o){return{"is-invalid":o}},R=function(){return["/auth/login"]};let D=(()=>{class o{constructor(e,s,n){this.formBuilder=e,this.apiService=s,this.commonService=n,this.enableOtpSection=!1,this.submitted=!1,this.destroy$=new v.xQ,this.makeSending=!1,this.errorShowAlert=!1,this.successShowAlert=!1,this.errorMessage={}}ngOnInit(){this.userPasswordResetForm=this.formBuilder.group({email:[null,[i.kI.required,i.kI.email]]}),this.theme="dark"===localStorage.getItem("theme")?localStorage.getItem("theme"):"default"}get userPasswordResetFormControls(){return this.userPasswordResetForm.controls}sendOtpToMail(){this.submitted=!0,!this.userPasswordResetForm.invalid&&this.userPasswordResetForm.valid&&(this.makeSending=!0,this.apiService.get(`/forgot-password/${this.userPasswordResetForm.value.email}`,"Auth",{}).pipe((0,d.R)(this.destroy$),(0,x.x)(()=>this.makeSending=!1),(0,g.b)(e=>{"success"==e.response.status&&(this.successShowAlert=!0,this.commonService.maskedEmail=this.commonService.maskedEmailAddress(this.userPasswordResetForm.value.email))}),(0,f.K)(e=>(this.errorShowAlert=!0,this.errorMessage.title=`Entered ${e.errorMessages[0]}.`,500===e.statusCode&&(this.errorMessage.title=`${e.errorMessages[0]}.`,this.errorMessage.subTitle="Please check your mail and enter the OTP.",this.commonService.userEmail=this.userPasswordResetForm.value.email),(0,h.of)(this.errorMessage)))).subscribe())}cancelAlert(){this.errorShowAlert=!1,this.userPasswordResetForm.reset()}cancelSuccessAlert(){this.successShowAlert=!1,this.commonService.routingWithoutReplaceUrl("auth/otp-validation")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.errorShowAlert=!1,this.successShowAlert=!1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(w.s),t.Y36(_.J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-fg-password"]],decls:33,vars:14,consts:[[1,"auth-inner","row","m-0"],["href","javascript:void(0);",1,"brand-logo"],["alt","Logo","src","assets/images/Logo_white.png",1,"logo_white"],["alt","Logo","src","assets/images/Logo_dark.png",1,"logo_dark"],[1,"d-none","d-lg-flex","col-lg-8","align-items-center","p-5"],[1,"w-100","d-lg-flex","align-items-center","justify-content-center","px-5"],["alt","Forgot password","src","assets/images/fgPass/forgot-password.svg",1,"img-fluid"],[1,"d-flex","col-lg-4","align-items-center","auth-bg","px-2","p-lg-5"],[1,"col-12","col-sm-8","col-md-6","col-lg-12","px-xl-2","mx-auto"],[1,"card-title","font-weight-bold","mb-3"],[1,"card-text","mb-2"],[1,"auth-forgot-password-form","mt-2",3,"formGroup","ngSubmit"],[1,"form-group"],["for","forgot-password-email",1,"form-label"],[1,"input-group","input-group-merge"],["type","text","formControlName","email","placeholder","example@demo.com","autofocus","",1,"form-control",3,"ngClass"],[1,"input-group-append"],[1,"input-group-text","cursor-pointer"],[1,"mdi","mdi-email","font-small-4"],["class","invalid-feedback w-100 d-flex align-items-center justify-content-start",4,"ngIf"],["class","btn btn-primary btn-block font-weight-bold","type","submit",4,"ngIf"],["class","btn btn-primary btn-block font-weight-bold","type","button",4,"ngIf"],[1,"text-center","mt-2"],[1,"d-flex","align-items-center","justify-content-center",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-chevron-left","mb-25","mr-1"],["points","15 18 9 12 15 6"],[3,"error",4,"ngIf"],[3,"success",4,"ngIf"],[1,"invalid-feedback","w-100","d-flex","align-items-center","justify-content-start"],["class","error-span",4,"ngIf"],[1,"error-span"],["type","submit",1,"btn","btn-primary","btn-block","font-weight-bold"],["type","button",1,"btn","btn-primary","btn-block","font-weight-bold"],[1,"ml-2","set-spin","position-relative"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","text-pink"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","#fff","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[3,"error"],[1,"body-container","d-flex","flex-column","justify-content-center"],[4,"ngIf"],[1,"actions","d-flex"],["class","ok d-inline-block",3,"click",4,"ngIf"],[1,"ok","d-inline-block",3,"click"],[3,"success"]],template:function(e,s){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"a",1),t._UZ(3,"img",2)(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"img",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"h2",9),t._uU(11,"Forgot Password? \u{1f512}"),t.qZA(),t.TgZ(12,"p",10),t._uU(13," Enter your email and we'll send you OTP to reset your password "),t.qZA(),t.TgZ(14,"form",11),t.NdJ("ngSubmit",function(){return s.sendOtpToMail()}),t.TgZ(15,"div",12)(16,"label",13),t._uU(17,"Email"),t.qZA(),t.TgZ(18,"div",14),t._UZ(19,"input",15),t.TgZ(20,"div",16)(21,"span",17),t._UZ(22,"i",18),t.qZA()(),t.YNc(23,F,3,2,"div",19),t.qZA()(),t.YNc(24,O,2,0,"button",20),t.YNc(25,J,6,0,"button",21),t.qZA(),t.TgZ(26,"p",22)(27,"a",23),t.O4$(),t.TgZ(28,"svg",24),t._UZ(29,"polyline",25),t.qZA(),t._uU(30," Back to login"),t.qZA()()()()()(),t.YNc(31,Q,8,5,"app-alert-modal",26),t.YNc(32,B,9,2,"app-alert-modal",27)),2&e&&(t.Gre("",s.theme,"-auth-wrapper"),t.xp6(14),t.Q6J("formGroup",s.userPasswordResetForm),t.xp6(5),t.Q6J("ngClass",t.VKq(11,Y,s.submitted&&s.userPasswordResetFormControls.email.errors)),t.xp6(4),t.Q6J("ngIf",s.submitted&&s.userPasswordResetFormControls.email.errors),t.xp6(1),t.Q6J("ngIf",!s.makeSending),t.xp6(1),t.Q6J("ngIf",s.makeSending),t.xp6(2),t.Q6J("routerLink",t.DdM(13,R)),t.xp6(4),t.Q6J("ngIf",s.errorShowAlert),t.xp6(1),t.Q6J("ngIf",s.successShowAlert))},dependencies:[c.mk,c.O5,u.yS,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,b.F]}),o})();var C=l(1390),E=l(9454),V=l(3122);function K(o,r){1&o&&(t.TgZ(0,"span",41),t._uU(1,"E-mail is required."),t.qZA())}function j(o,r){1&o&&(t.TgZ(0,"span",41),t._uU(1,"Please enter a valid email address."),t.qZA())}function $(o,r){if(1&o&&(t.TgZ(0,"div",39),t.YNc(1,K,2,0,"span",40),t.YNc(2,j,2,0,"span",40),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.formControls.email.errors.required),t.xp6(1),t.Q6J("ngIf",e.formControls.email.errors.email)}}function G(o,r){1&o&&(t.TgZ(0,"span",41),t._uU(1,"Password is required."),t.qZA())}function H(o,r){if(1&o&&(t.TgZ(0,"div",39),t.YNc(1,G,2,0,"span",40),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.formControls.password.errors.required)}}function z(o,r){1&o&&(t.TgZ(0,"button",42),t._uU(1," Sign in "),t.qZA())}function X(o,r){1&o&&(t.TgZ(0,"button",43),t._uU(1," Validating... "),t.TgZ(2,"span",44),t.O4$(),t.TgZ(3,"svg",45),t._UZ(4,"circle",46)(5,"path",47),t.qZA()()())}function W(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-alert-modal",48)(1,"div",49)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",50)(5,"button",51),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.errorShowAlert=!1)}),t._uU(6,"Ok"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("error",!0),t.xp6(3),t.Oqu(e.errorMessage.title)}}const k=function(o){return{"is-invalid":o}},tt=function(){return["/auth/forgot-password"]},et=function(){return["/auth/register"]};let ot=(()=>{class o{constructor(e,s,n,a,p,y){this.formBuilder=e,this.service=s,this.auth=n,this.commonService=a,this.router=p,this.toastService=y,this.containerClass="container my-3",this.submitted=!1,this.loginSubmitted=!1,this.passCheck=!1,this.destroy$=new v.xQ,this.errorShowAlert=!1,this.errorMessage={}}ngOnInit(){sessionStorage.getItem("token"),this.theme=this.commonService.themeChanges(),this.loginForm=this.formBuilder.group({email:["smartmasks@gmail.com",[i.kI.required,i.kI.email]],password:["*****",[i.kI.required,i.kI.minLength(5)]]})}get formControls(){return this.loginForm.controls}login(){this.loginSubmitted=!0,!this.loginForm.invalid&&this.loginForm.valid&&(this.submitted=!0,this.service.post("/","Auth",this.loginForm.value).pipe((0,d.R)(this.destroy$),(0,x.x)(()=>this.submitted=!1),(0,g.b)(e=>{"success"===e.response.status&&(console.log(e.response),sessionStorage.setItem("email",e.response.data.email),sessionStorage.setItem("token",e.response.data.token),sessionStorage.setItem("name",e.response.data.name),sessionStorage.setItem("avatar",e.response.data.avatar),sessionStorage.setItem("role","smartmasks@gmail.com"===e.response.data.email?C.u.Admin:C.u.User),sessionStorage.setItem("isLoggedIn","true"),this.auth.setUserObject({isLoggedIn:!0,name:e.response.data.name,email:e.response.data.email,avatar:e.response.data.avatar,role:"smartmasks@gmail.com"===e.response.data.email?C.u.Admin:C.u.User}),this.router.navigate(["/dashboard"]),this.toastService.showItem$.next({isLoggedIn:!0,userName:e.response.data.name}))}),(0,f.K)(e=>(this.errorShowAlert=!0,this.errorMessage.title=e.errorMessages[0],(0,h.of)(this.errorMessage)))).subscribe())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(w.s),t.Y36(E.e),t.Y36(_.J),t.Y36(u.F0),t.Y36(V.k))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:63,vars:22,consts:[[1,"auth-inner","row","m-0"],["href","javascript:void(0);",1,"brand-logo"],["alt","Logo","src","assets/images/Logo_white.png",1,"logo_white"],["alt","Logo","src","assets/images/Logo_dark.png",1,"logo_dark"],[1,"d-none","d-lg-flex","col-lg-8","align-items-center","p-5"],[1,"w-100","d-lg-flex","align-items-center","justify-content-center","px-5"],["alt","Login","src","assets/images/login/login.svg",1,"img-fluid"],[1,"d-flex","col-lg-4","align-items-center","auth-bg","px-2","p-lg-5"],[1,"col-12","col-sm-8","col-md-6","col-lg-12","px-xl-2","mx-auto"],[1,"card-title","font-weight-bold","mb-3"],[1,"card-text","mb-2"],["role","alert",1,"alert","show","alert-primary","my-4",3,"dismissible"],[1,"alert-body","d-flex","flex-column","justify-content-between"],[1,"mb-2"],[1,"mr-50"],[1,"font-weight-bold"],[1,"mb-0"],[1,"auth-login-form","mt-2",3,"formGroup","ngSubmit"],[1,"form-group"],["for","login-email",1,"form-label"],[1,"input-group","input-group-merge"],["type","text","formControlName","email","placeholder","example@demo.com",1,"form-control",3,"ngClass"],[1,"input-group-append"],[1,"input-group-text","cursor-pointer"],[1,"mdi","mdi-email","font-small-4"],["class","invalid-feedback w-100 d-flex align-items-center justify-content-start",4,"ngIf"],[1,"d-flex","justify-content-between"],["for","login-password"],[3,"routerLink"],["formControlName","password","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",1,"form-control",3,"type","ngClass"],[1,"input-group-text","cursor-pointer",3,"click"],[1,"font-small-4",3,"ngClass"],[1,"custom-control","custom-checkbox"],["id","remember-me","type","checkbox",1,"custom-control-input"],["for","remember-me",1,"custom-control-label"],["class","btn btn-primary btn-block font-weight-bold","type","submit",4,"ngIf"],["class","btn btn-primary btn-block font-weight-bold","type","button",4,"ngIf"],[1,"text-center","mt-2"],[3,"error",4,"ngIf"],[1,"invalid-feedback","w-100","d-flex","align-items-center","justify-content-start"],["class","error-span",4,"ngIf"],[1,"error-span"],["type","submit",1,"btn","btn-primary","btn-block","font-weight-bold"],["type","button",1,"btn","btn-primary","btn-block","font-weight-bold"],[1,"ml-2","set-spin","position-relative"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","text-pink"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","#fff","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[3,"error"],[1,"body-container","d-flex","flex-column","justify-content-center"],[1,"actions","d-flex"],[1,"ok","d-inline-block",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"a",1),t._UZ(3,"img",2)(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"img",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"h2",9),t._uU(11,"Welcome to i2Tym! \u{1f44b}"),t.qZA(),t.TgZ(12,"p",10),t._uU(13," Please sign-in to your account and start to grow skills. "),t.qZA(),t.TgZ(14,"ngb-alert",11)(15,"div",12)(16,"p",13)(17,"small",14)(18,"span",15),t._uU(19,"email:"),t.qZA(),t._uU(20," example@demo.com "),t.qZA()(),t.TgZ(21,"p",16)(22,"small",14)(23,"span",15),t._uU(24,"password:"),t.qZA(),t._uU(25," Password should be minimum 6 characters "),t.qZA()()()(),t.TgZ(26,"form",17),t.NdJ("ngSubmit",function(){return s.login()}),t.TgZ(27,"div",18)(28,"label",19),t._uU(29,"Email"),t.qZA(),t.TgZ(30,"div",20),t._UZ(31,"input",21),t.TgZ(32,"div",22)(33,"span",23),t._UZ(34,"i",24),t.qZA()(),t.YNc(35,$,3,2,"div",25),t.qZA()(),t.TgZ(36,"div",18)(37,"div",26)(38,"label",27),t._uU(39,"Password"),t.qZA(),t.TgZ(40,"a",28)(41,"small"),t._uU(42,"Forgot Password?"),t.qZA()()(),t.TgZ(43,"div",20),t._UZ(44,"input",29),t.TgZ(45,"div",22)(46,"span",30),t.NdJ("click",function(){return s.passCheck=!s.passCheck}),t._UZ(47,"i",31),t.qZA()(),t.YNc(48,H,2,1,"div",25),t.qZA()(),t.TgZ(49,"div",18)(50,"div",32),t._UZ(51,"input",33),t.TgZ(52,"label",34),t._uU(53," Remember Me"),t.qZA()()(),t.YNc(54,z,2,0,"button",35),t.YNc(55,X,6,0,"button",36),t.qZA(),t.TgZ(56,"p",37)(57,"span"),t._uU(58,"New on our platform?"),t.qZA(),t.TgZ(59,"a",28)(60,"span"),t._uU(61,"\xa0\xa0Create an account"),t.qZA()()()()()()(),t.YNc(62,W,7,2,"app-alert-modal",38)),2&e&&(t.Gre("",s.theme,"-auth-wrapper"),t.xp6(14),t.Q6J("dismissible",!1),t.xp6(12),t.Q6J("formGroup",s.loginForm),t.xp6(5),t.Q6J("ngClass",t.VKq(16,k,s.loginSubmitted&&s.formControls.email.errors)),t.xp6(4),t.Q6J("ngIf",s.loginSubmitted&&s.formControls.email.errors),t.xp6(5),t.Q6J("routerLink",t.DdM(18,tt)),t.xp6(4),t.Q6J("type",s.passCheck?"text":"password")("ngClass",t.VKq(19,k,s.loginSubmitted&&s.formControls.password.errors)),t.xp6(3),t.Q6J("ngClass",s.passCheck?"mdi mdi-eye-off":"mdi mdi-eye"),t.xp6(1),t.Q6J("ngIf",s.loginSubmitted&&s.formControls.password.errors),t.xp6(6),t.Q6J("ngIf",!s.submitted),t.xp6(1),t.Q6J("ngIf",s.submitted),t.xp6(4),t.Q6J("routerLink",t.DdM(21,et)),t.xp6(3),t.Q6J("ngIf",s.errorShowAlert))},dependencies:[c.mk,c.O5,u.yS,T.xm,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,b.F]}),o})();function I(o,r){return e=>{const n=e.controls[r];n.errors&&!n.errors.confirmedValidator||n.setErrors(e.controls[o].value!==n.value?{confirmedValidator:!0}:null)}}function st(o,r){1&o&&(t.TgZ(0,"span",42),t._uU(1,"User Name is required."),t.qZA())}function nt(o,r){1&o&&(t.TgZ(0,"span",42),t._uU(1,"User name should be 3 character."),t.qZA())}function rt(o,r){if(1&o&&(t.TgZ(0,"div",40),t.YNc(1,st,2,0,"span",41),t.YNc(2,nt,2,0,"span",41),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.registerFormControls.name.errors.required),t.xp6(1),t.Q6J("ngIf",e.registerFormControls.name.errors.minlength)}}function it(o,r){1&o&&(t.TgZ(0,"span",42),t._uU(1,"E-mail is required."),t.qZA())}function at(o,r){1&o&&(t.TgZ(0,"span",42),t._uU(1,"Please enter a valid email address."),t.qZA())}function lt(o,r){if(1&o&&(t.TgZ(0,"div",40),t.YNc(1,it,2,0,"span",41),t.YNc(2,at,2,0,"span",41),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.registerFormControls.email.errors.required),t.xp6(1),t.Q6J("ngIf",e.registerFormControls.email.errors.email)}}function pt(o,r){1&o&&(t.TgZ(0,"span",42),t._uU(1,"Password is required."),t.qZA())}function ct(o,r){1&o&&(t.TgZ(0,"span",42),t._uU(1,"Password should be 5 character."),t.qZA())}function ut(o,r){if(1&o&&(t.TgZ(0,"div",40),t.YNc(1,pt,2,0,"span",41),t.YNc(2,ct,2,0,"span",41),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.registerFormControls.password.errors.required),t.xp6(1),t.Q6J("ngIf",e.registerFormControls.password.errors.minlength)}}function mt(o,r){1&o&&(t.TgZ(0,"span",42),t._uU(1,"Password is required."),t.qZA())}function dt(o,r){1&o&&(t.TgZ(0,"span",42),t._uU(1,"Password should be 5 character."),t.qZA())}function gt(o,r){1&o&&(t.TgZ(0,"span",42),t._uU(1," Password and Confirm Password must be match. "),t.qZA())}function ft(o,r){if(1&o&&(t.TgZ(0,"div",40),t.YNc(1,mt,2,0,"span",41),t.YNc(2,dt,2,0,"span",41),t.YNc(3,gt,2,0,"span",41),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.registerFormControls.confirmPassword.errors.required),t.xp6(1),t.Q6J("ngIf",e.registerFormControls.confirmPassword.errors.minlength),t.xp6(1),t.Q6J("ngIf",e.registerFormControls.confirmPassword.errors.confirmedValidator)}}function ht(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.register())}),t._uU(1," Sign up "),t.qZA()}}function _t(o,r){1&o&&(t.TgZ(0,"button",44),t._uU(1," Registering... "),t.TgZ(2,"span",45),t.O4$(),t.TgZ(3,"svg",46),t._UZ(4,"circle",47)(5,"path",48),t.qZA()()())}function vt(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.errorMessage.subTitle)}}function wt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.cancelAlert())}),t._uU(1,"Ok"),t.qZA()}}function bt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.commonService.routingWithoutReplaceUrl("auth/otp-validation"))}),t._uU(1,"Ok"),t.qZA()}}function xt(o,r){if(1&o&&(t.TgZ(0,"app-alert-modal",49)(1,"div",50)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,vt,2,1,"span",51),t.qZA(),t.TgZ(5,"div",52),t.YNc(6,wt,2,0,"button",53),t.YNc(7,bt,2,0,"button",53),t.qZA()()),2&o){const e=t.oxw();t.Q6J("error",!0),t.xp6(3),t.Oqu(e.errorMessage.title),t.xp6(1),t.Q6J("ngIf",e.errorMessage.subTitle),t.xp6(2),t.Q6J("ngIf",!e.errorMessage.subTitle),t.xp6(1),t.Q6J("ngIf",e.errorMessage.subTitle)}}function Ct(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-alert-modal",55)(1,"div",50)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Please verify your mail and enter the otp"),t.qZA()(),t.TgZ(6,"div",52)(7,"button",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.cancelSuccessAlert())}),t._uU(8,"Ok"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("success",!0),t.xp6(3),t.hij("OTP has been sent to ",e.commonService.maskedEmail,"")}}const Z=function(o){return{"is-invalid":o}},Zt=function(){return["/auth/login"]};let yt=(()=>{class o{constructor(e,s,n,a){this.formBuilder=e,this.service=s,this.commonService=n,this.router=a,this.passCheck=!1,this.confirmPassCheck=!1,this.submitted=!1,this.destroy$=new v.xQ,this.makeSending=!1,this.errorShowAlert=!1,this.successShowAlert=!1,this.errorMessage={}}ngOnInit(){this.theme=this.commonService.themeChanges(),this.registerForm=this.formBuilder.group({email:[null,[i.kI.required,i.kI.email]],password:[null,[i.kI.required,i.kI.minLength(5)]],confirmPassword:[null,[i.kI.required,i.kI.minLength(5)]],name:[null,[i.kI.required,i.kI.minLength(3)]]},{validator:I("password","confirmPassword")})}get registerFormControls(){return this.registerForm.controls}register(){this.submitted=!0,!this.registerForm.invalid&&this.registerForm.valid&&(this.makeSending=!0,this.service.post("/register","user",this.registerForm.value).pipe((0,d.R)(this.destroy$),(0,g.b)(e=>{"success"===e.response.status&&this._otpValidationCheck()}),(0,f.K)(e=>(this.errorShowAlert=!0,this.errorMessage.title=e.errorMessages[0],(0,h.of)(e)))).subscribe())}_otpValidationCheck(){this.service.get(`/forgot-password/${this.registerForm.value.email}`,"Auth",{}).pipe((0,d.R)(this.destroy$),(0,x.x)(()=>this.makeSending=!1),(0,g.b)(e=>{"success"==e.response.status&&(this.successShowAlert=!0,this.commonService.maskedEmail=this.commonService.maskedEmailAddress(this.registerForm.value.email),this.commonService.viaRegister=!0,this.commonService.sharingPassword=this.registerForm.value.password)}),(0,f.K)(e=>(this.errorShowAlert=!0,this.errorMessage.title=`Entered ${e.errorMessages[0]}.`,500===e.statusCode&&(this.errorMessage.title=`${e.errorMessages[0]}.`,this.errorMessage.subTitle="Please check your mail and enter the OTP.",this.commonService.userEmail=this.registerForm.value.email,this.commonService.viaRegister=!0,this.commonService.sharingPassword=this.registerForm.value.password),(0,h.of)(this.errorMessage)))).subscribe()}cancelAlert(){this.errorShowAlert=!1,this.registerForm.reset()}cancelSuccessAlert(){this.successShowAlert=!1,this.commonService.routingWithoutReplaceUrl("auth/otp-validation")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(w.s),t.Y36(_.J),t.Y36(u.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-register"]],decls:69,vars:30,consts:[[1,"auth-inner","row","m-0"],["href","javascript:void(0);",1,"brand-logo"],["alt","Logo","src","assets/images/Logo_white.png",1,"logo_white"],["alt","Logo","src","assets/images/Logo_dark.png",1,"logo_dark"],[1,"d-none","d-lg-flex","col-lg-8","align-items-center","p-5"],[1,"w-100","d-lg-flex","align-items-center","justify-content-center","px-5"],["alt","Register","src","assets/images/register/register.svg",1,"img-fluid"],[1,"d-flex","col-lg-4","align-items-center","auth-bg","px-2","p-lg-5"],[1,"col-12","col-sm-8","col-md-6","col-lg-12","px-xl-2","mx-auto"],[1,"card-title","font-weight-bold","mb-3"],[1,"card-text","mb-2"],["novalidate","",1,"auth-register-form","mt-2",3,"formGroup"],[1,"form-group"],["for","register-username",1,"form-label"],[1,"input-group","input-group-merge"],["type","text","placeholder","i2Tym","aria-describedby","register-username","autofocus","","formControlName","name",1,"form-control",3,"ngClass"],[1,"input-group-append"],[1,"input-group-text","cursor-pointer"],[1,"mdi","mdi-account","font-small-4"],["class","invalid-feedback w-100 d-flex align-items-center justify-content-start",4,"ngIf"],["for","register-email",1,"form-label"],["type","text","placeholder","demo@example.com","aria-describedby","register-email","formControlName","email",1,"form-control",3,"ngClass"],[1,"mdi","mdi-email","font-small-4"],["for","register-password",1,"form-label"],["placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7","aria-describedby","register-password","formControlName","password",1,"form-control","form-control-merge",3,"type","ngClass"],[1,"input-group-text","cursor-pointer",3,"click"],[1,"font-small-4",3,"ngClass"],[1,"d-flex","justify-content-between"],["for","login-password"],["formControlName","confirmPassword","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",1,"form-control",3,"type","ngClass"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","register-privacy-policy",1,"custom-control-input"],["for","register-privacy-policy",1,"custom-control-label"],["href","javascript:void(0);"],["class","btn btn-primary btn-block font-weight-bold","type","submit",3,"click",4,"ngIf"],["class","btn btn-primary btn-block font-weight-bold","type","button",4,"ngIf"],[1,"text-center","mt-2"],[3,"routerLink"],[3,"error",4,"ngIf"],[3,"success",4,"ngIf"],[1,"invalid-feedback","w-100","d-flex","align-items-center","justify-content-start"],["class","error-span",4,"ngIf"],[1,"error-span"],["type","submit",1,"btn","btn-primary","btn-block","font-weight-bold",3,"click"],["type","button",1,"btn","btn-primary","btn-block","font-weight-bold"],[1,"ml-2","set-spin","position-relative"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","text-pink"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","#fff","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[3,"error"],[1,"body-container","d-flex","flex-column","justify-content-center"],[4,"ngIf"],[1,"actions","d-flex"],["class","ok d-inline-block",3,"click",4,"ngIf"],[1,"ok","d-inline-block",3,"click"],[3,"success"]],template:function(e,s){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"a",1),t._UZ(3,"img",2)(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"img",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"h2",9),t._uU(11," Adventure starts here \u{1f680} "),t.qZA(),t.TgZ(12,"p",10),t._uU(13,"Make your app easy to learn!"),t.qZA(),t.TgZ(14,"form",11)(15,"div",12)(16,"label",13),t._uU(17,"Username"),t.qZA(),t.TgZ(18,"div",14),t._UZ(19,"input",15),t.TgZ(20,"div",16)(21,"span",17),t._UZ(22,"i",18),t.qZA()(),t.YNc(23,rt,3,2,"div",19),t.qZA()(),t.TgZ(24,"div",12)(25,"label",20),t._uU(26,"Email"),t.qZA(),t.TgZ(27,"div",14),t._UZ(28,"input",21),t.TgZ(29,"div",16)(30,"span",17),t._UZ(31,"i",22),t.qZA()(),t.YNc(32,lt,3,2,"div",19),t.qZA()(),t.TgZ(33,"div",12)(34,"label",23),t._uU(35,"Password"),t.qZA(),t.TgZ(36,"div",14),t._UZ(37,"input",24),t.TgZ(38,"div",16)(39,"span",25),t.NdJ("click",function(){return s.passCheck=!s.passCheck}),t._UZ(40,"i",26),t.qZA()(),t.YNc(41,ut,3,2,"div",19),t.qZA()(),t.TgZ(42,"div",12)(43,"div",27)(44,"label",28),t._uU(45,"Confirm Password"),t.qZA()(),t.TgZ(46,"div",14),t._UZ(47,"input",29),t.TgZ(48,"div",16)(49,"span",25),t.NdJ("click",function(){return s.confirmPassCheck=!s.confirmPassCheck}),t._UZ(50,"i",26),t.qZA()(),t.YNc(51,ft,4,3,"div",19),t.qZA()(),t.TgZ(52,"div",12)(53,"div",30),t._UZ(54,"input",31),t.TgZ(55,"label",32),t._uU(56," I agree to "),t.TgZ(57,"a",33),t._uU(58," privacy policy & terms"),t.qZA()()()(),t.YNc(59,ht,2,0,"button",34),t.YNc(60,_t,6,0,"button",35),t.qZA(),t.TgZ(61,"p",36)(62,"span"),t._uU(63,"Already have an account?"),t.qZA(),t.TgZ(64,"a",37)(65,"span"),t._uU(66,"\xa0\xa0Sign in instead"),t.qZA()()()()()()(),t.YNc(67,xt,8,5,"app-alert-modal",38),t.YNc(68,Ct,9,2,"app-alert-modal",39)),2&e&&(t.Gre("",s.theme,"-auth-wrapper"),t.xp6(14),t.Q6J("formGroup",s.registerForm),t.xp6(5),t.Q6J("ngClass",t.VKq(21,Z,s.submitted&&s.registerFormControls.name.errors)),t.xp6(4),t.Q6J("ngIf",s.submitted&&s.registerFormControls.name.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(23,Z,s.submitted&&s.registerFormControls.email.errors)),t.xp6(4),t.Q6J("ngIf",s.submitted&&s.registerFormControls.email.errors),t.xp6(5),t.Q6J("type",s.passCheck?"text":"password")("ngClass",t.VKq(25,Z,s.submitted&&s.registerFormControls.password.errors)),t.xp6(3),t.Q6J("ngClass",s.passCheck?"mdi mdi-eye-off":"mdi mdi-eye"),t.xp6(1),t.Q6J("ngIf",s.submitted&&s.registerFormControls.password.errors),t.xp6(6),t.Q6J("type",s.confirmPassCheck?"text":"password")("ngClass",t.VKq(27,Z,s.submitted&&s.registerFormControls.password.errors)),t.xp6(3),t.Q6J("ngClass",s.confirmPassCheck?"mdi mdi-eye-off":"mdi mdi-eye"),t.xp6(1),t.Q6J("ngIf",s.submitted&&s.registerFormControls.confirmPassword.errors),t.xp6(8),t.Q6J("ngIf",!s.makeSending),t.xp6(1),t.Q6J("ngIf",s.makeSending),t.xp6(4),t.Q6J("routerLink",t.DdM(29,Zt)),t.xp6(3),t.Q6J("ngIf",s.errorShowAlert),t.xp6(1),t.Q6J("ngIf",s.successShowAlert))},dependencies:[c.mk,c.O5,u.yS,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,b.F]}),o})();const At=["otpInputElement"];function Tt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",2)(1,"label")(2,"input",3,4),t.NdJ("keyup",function(n){const p=t.CHM(e).index,y=t.oxw();return t.KtG(y.handleKeyUp(p,n.key))})("keyup.backspace",function(){const a=t.CHM(e).index,p=t.oxw();return t.KtG(p.handleDelete(a))})("keyup.arrowLeft",function(){const a=t.CHM(e).index,p=t.oxw();return t.KtG(p.stepBackward(a))})("keyup.arrowRight",function(){const a=t.CHM(e).index,p=t.oxw();return t.KtG(p.stepForward(a))})("focus",function(){const a=t.CHM(e).index,p=t.oxw();return t.KtG(p.handleFocus(a))}),t.qZA()()()}if(2&o){const e=r.$implicit,s=r.index,n=t.oxw();t.Q6J("ngClass",null==n.otpConfig.classList?null:n.otpConfig.classList.inputBox),t.xp6(1),t.uIk("aria-label",n.ariaLabels[s]),t.xp6(1),t.Q6J("id","ngx-otp-input-"+s)("formControl",e)("ngxOtpPattern",n.otpConfig.pattern)("type",n.otpConfig.isPasswordInput?"password":"text")("ngClass",(null==n.styles?null:n.styles.length)>0?n.styles[s]:null)}}var m=(()=>{return(o=m||(m={}))[o.DEFAULT=0]="DEFAULT",o[o.LEGACY=1]="LEGACY",m;var o})();let S=(()=>{class o{init2DArray(e){return new Array(e).fill(new Array)}toArray(e){return Array.isArray(e)?e:[e]}addItemToAll(e,s){if((null==e?void 0:e.length)>0)return e.map(n=>n.concat(s))}removeItemFromAll(e,s){if((null==e?void 0:e.length)>0)return e.map(n=>n.filter(a=>!s.includes(a)))}addItemAtIndex(e,s,n){if((null==e?void 0:e.length)>0)return e[s]=e[s].concat(n),e}removeItemAtIndex(e,s,n){if((null==e?void 0:e.length)>0)return e[s]=e[s].filter(a=>!n.includes(a)),e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),kt=(()=>{class o{constructor(){this.allowedKeys=["Backspace","ArrowLeft","ArrowRight","Escape","Tab"]}onKeyDown(e){this.allowedKeys.includes(e.key)||"KeyA"===e.code&&!0===e.ctrlKey||"KeyC"===e.code&&!0===e.ctrlKey||"KeyV"===e.code&&!0===e.ctrlKey||"KeyX"===e.code&&!0===e.ctrlKey||"KeyA"===e.code&&!0===e.metaKey||"KeyC"===e.code&&!0===e.metaKey||"KeyV"===e.code&&!0===e.metaKey||"KeyX"===e.code&&!0===e.metaKey||this.pattern.test(e.key)||e.preventDefault()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.lG2({type:o,selectors:[["","ngxOtpPattern",""]],hostBindings:function(e,s){1&e&&t.NdJ("keydown",function(a){return s.onKeyDown(a)})},inputs:{pattern:["ngxOtpPattern","pattern"]}}),o})(),It=(()=>{class o{constructor(e,s){this.ngxOtpInputService=e,this.ref=s,this.ngxOtpArray=new i.vC([]),this.ariaLabels=[],this.styles=[],this.otpConfig={otpLength:6,autofocus:!0,autoblur:!0,behavior:m.DEFAULT},this.defaultPattern=/^\d+$/,this.DEFAULT_ARIA_LABEL="One time password input",this.isNgxOtpArrayDisabled=!1,this.focusedInputHasValue=!1,this.otpChange=new t.vpe,this.fill=new t.vpe}onPaste(e){e.preventDefault(),this.handlePaste(e.clipboardData.getData("text"))}set disable(e){this.handleDisable(e),this.isNgxOtpArrayDisabled=e}set config(e){var s;this.otpConfig=Object.assign(Object.assign({},this.otpConfig),e),!(null===(s=this.otpConfig.classList)||void 0===s)&&s.input&&this.setInitialStyles(),e.pattern||(this.otpConfig.pattern=this.defaultPattern)}set status(e){this.handleStatusChange(e)}ngOnInit(){this.setUpOtpForm(),this.setUpAriaLabels(),this.LAST_INPUT_INDEX=this.otpConfig.otpLength-1,this.otpFormChangeListener()}ngAfterViewInit(){this.setNativeHTMLElements(),this.setInitialFocus(),this.setNumericInputIfPossible(),this.handleDisable(this.isNgxOtpArrayDisabled)}ngOnDestroy(){this.ngxOtpArray$.unsubscribe()}clear(){var e;this.removeStyleFromAll(null===(e=this.otpConfig.classList)||void 0===e?void 0:e.inputFilled),this.ngxOtpArray.reset(),this.ref.detectChanges(),this.otpConfig.autofocus&&this.setFocus(0)}handleKeyUp(e,s){var n;this.otpConfig.pattern.test(s)&&"Backspace"!==s&&(this.addStyle(e,null===(n=this.otpConfig.classList)||void 0===n?void 0:n.inputFilled),this.ngxOtpArray.valid?this.blur():(this.getFormControlByIndex(e).setValue(s),this.stepForward(e)))}handleDelete(e){var s;this.removeStyle(e,null===(s=this.otpConfig.classList)||void 0===s?void 0:s.inputFilled),this.otpConfig.behavior===m.LEGACY&&!this.focusedInputHasValue||this.otpConfig.behavior!==m.LEGACY?this.stepBackward(e):this.focusedInputHasValue=!1}handleFocus(e){this.focusedInputHasValue=!!this.ngxOtpArray.controls[e].value,this.otpConfig.behavior===m.LEGACY&&this.focusedInputHasValue&&this.inputs[e].select()}stepBackward(e){e>0&&this.setFocus(e-1)}stepForward(e){e<this.LAST_INPUT_INDEX&&this.setFocus(e+1)}otpFormChangeListener(){this.ngxOtpArray$=this.ngxOtpArray.valueChanges.subscribe(e=>{this.otpChange.emit(e),this.ngxOtpArray.valid&&this.fill.emit(e.join(""))})}setUpOtpForm(){for(let e=0;e<this.otpConfig.otpLength;e++)this.ngxOtpArray.push(new i.p4(null,[i.kI.required]))}setUpAriaLabels(){const e=this.otpConfig.ariaLabels;this.ariaLabels=Array.isArray(e)?e:new Array(this.otpConfig.otpLength).fill(e||this.DEFAULT_ARIA_LABEL)}setNativeHTMLElements(){this.inputs=this.otpInputElements.map(e=>e.nativeElement)}setInitialFocus(){this.otpConfig.autofocus&&this.setFocus(0)}setInitialStyles(){this.styles=this.ngxOtpInputService.init2DArray(this.otpConfig.otpLength),this.addStyleToAll(this.otpConfig.classList.input)}setFocus(e){this.inputs[e].focus()}setNumericInputIfPossible(){this.otpConfig.numericInputMode&&(this.otpConfig.pattern=this.defaultPattern,this.inputs.map(e=>{e.setAttribute("inputmode","numeric"),e.setAttribute("pattern","[0-9]*")}))}blur(){this.otpConfig.autoblur&&this.inputs.map(e=>e.blur())}handlePaste(e){if(this.otpConfig.pattern.test(e)){let s=0;e.split("").slice(0,this.otpConfig.otpLength).map((n,a)=>{var p;this.addStyle(a,null===(p=this.otpConfig.classList)||void 0===p?void 0:p.inputFilled),this.getFormControlByIndex(a).setValue(n),s=a}),this.ngxOtpArray.valid?this.blur():this.setFocus(s+1)}}handleDisable(e){var s,n;e?(this.ngxOtpArray.disable(),this.addStyleToAll(null===(s=this.otpConfig.classList)||void 0===s?void 0:s.inputDisabled)):(this.ngxOtpArray.enable(),this.removeStyleFromAll(null===(n=this.otpConfig.classList)||void 0===n?void 0:n.inputDisabled))}handleStatusChange(e){var s,n,a,p;this.removeStyleFromAll([...this.ngxOtpInputService.toArray(null===(s=this.otpConfig.classList)||void 0===s?void 0:s.inputSuccess),...this.ngxOtpInputService.toArray(null===(n=this.otpConfig.classList)||void 0===n?void 0:n.inputError)]),e&&("success"===e?this.addStyleToAll(null===(a=this.otpConfig.classList)||void 0===a?void 0:a.inputSuccess):"error"===e&&this.addStyleToAll(null===(p=this.otpConfig.classList)||void 0===p?void 0:p.inputError))}getFormControlByIndex(e){return this.ngxOtpArray.controls[e]}addStyle(e,s){this.styles=this.ngxOtpInputService.addItemAtIndex(this.styles,e,this.ngxOtpInputService.toArray(s))}addStyleToAll(e){this.styles=this.ngxOtpInputService.addItemToAll(this.styles,this.ngxOtpInputService.toArray(e))}removeStyle(e,s){this.styles=this.ngxOtpInputService.removeItemAtIndex(this.styles,e,this.ngxOtpInputService.toArray(s))}removeStyleFromAll(e){this.styles=this.ngxOtpInputService.removeItemFromAll(this.styles,this.ngxOtpInputService.toArray(e))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(S),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-otp-input"]],viewQuery:function(e,s){if(1&e&&t.Gf(At,5),2&e){let n;t.iGM(n=t.CRH())&&(s.otpInputElements=n)}},hostBindings:function(e,s){1&e&&t.NdJ("paste",function(a){return s.onPaste(a)})},inputs:{disable:"disable",config:"config",status:"status"},outputs:{otpChange:"otpChange",fill:"fill"},decls:2,vars:2,consts:[[1,"ngx-otp-input-container",3,"ngClass"],["class","ngx-otp-input-box",3,"ngClass",4,"ngFor","ngForOf"],[1,"ngx-otp-input-box",3,"ngClass"],["maxlength","1","autocapitalize","off","spellcheck","false",1,"ngx-otp-input",3,"id","formControl","ngxOtpPattern","type","ngClass","keyup","keyup.backspace","keyup.arrowLeft","keyup.arrowRight","focus"],["otpInputElement",""]],template:function(e,s){1&e&&(t.TgZ(0,"form",0),t.YNc(1,Tt,4,7,"div",1),t.qZA()),2&e&&(t.Q6J("ngClass",null==s.otpConfig.classList?null:s.otpConfig.classList.container),t.xp6(1),t.Q6J("ngForOf",s.ngxOtpArray.controls))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.nD,i.oH,i.F,c.mk,c.sg,kt],styles:[".ngx-otp-input-container[_ngcontent-%COMP%]{display:flex}.ngx-otp-input-box[_ngcontent-%COMP%]{margin:0 5px}.ngx-otp-input-box[_ngcontent-%COMP%]:first-child{margin-left:0}.ngx-otp-input-box[_ngcontent-%COMP%]:last-child{margin-right:0}.ngx-otp-input[_ngcontent-%COMP%]{width:35px;height:35px;text-align:center;font-size:1.25rem;border:1px solid #212121;border-radius:4px;outline:0}.ngx-otp-input-disabled[_ngcontent-%COMP%]{opacity:.3}"],changeDetection:0}),o})(),St=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[S],imports:[i.UX,i.u5,c.ez]}),o})();const qt=["ngxotp"];function Ut(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.clearOtp())}),t._uU(1," Clear OTP "),t.qZA()}}function Pt(o,r){1&o&&(t.TgZ(0,"button",6)(1,"span"),t._uU(2," Validating OTP... "),t.TgZ(3,"span",7),t.O4$(),t.TgZ(4,"svg",8),t._UZ(5,"circle",9)(6,"path",10),t.qZA()()()())}let Ft=(()=>{class o{constructor(e){this.commonService=e,this.shareOtp=new t.vpe,this.otpInputConfig={otpLength:6,autofocus:!0}}ngOnInit(){}clearOtp(){this.ngxOtp.clear()}handleFillEvent(e){this.commonService.validatingOtp=!0,this.shareOtp.emit(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-update-password"]],viewQuery:function(e,s){if(1&e&&t.Gf(qt,5),2&e){let n;t.iGM(n=t.CRH())&&(s.ngxOtp=n.first)}},outputs:{shareOtp:"shareOtp"},decls:5,vars:3,consts:[[3,"config","fill"],["ngxotp",""],[1,"auth-forgot-password-form","mt-2"],["class","btn btn-primary btn-block font-weight-bold",3,"click",4,"ngIf"],["class","btn btn-primary btn-block font-weight-bold",4,"ngIf"],[1,"btn","btn-primary","btn-block","font-weight-bold",3,"click"],[1,"btn","btn-primary","btn-block","font-weight-bold"],[1,"ml-2","set-spin","position-relative"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","text-pink"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","#fff","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,s){1&e&&(t.TgZ(0,"ngx-otp-input",0,1),t.NdJ("fill",function(a){return s.handleFillEvent(a)}),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,Ut,2,0,"button",3),t.YNc(4,Pt,7,0,"button",4),t.qZA()),2&e&&(t.Q6J("config",s.otpInputConfig),t.xp6(3),t.Q6J("ngIf",!s.commonService.validatingOtp),t.xp6(1),t.Q6J("ngIf",s.commonService.validatingOtp))},dependencies:[c.O5,It],styles:[".email-hide[_ngcontent-%COMP%]{font-size:12px;font-weight:600}"]}),o})();function Ot(o,r){if(1&o){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"app-alert-modal",21)(1,"div",22)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",23)(5,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.errorShowAlert=!1)}),t._uU(6,"Ok"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("error",!0),t.xp6(3),t.Oqu(e.errorMessage.title)}}function Jt(o,r){if(1&o){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"app-alert-modal",25)(1,"div",22)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",23)(5,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.cancelSuccessAlert())}),t._uU(6,"Ok"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("success",!0),t.xp6(3),t.Oqu(e.successMessage)}}const Nt=function(){return["/dashboard"]},Lt=function(){return["/auth/login"]};function Qt(o,r){1&o&&(t.TgZ(0,"span",33),t._uU(1,"Password is required."),t.qZA())}function Bt(o,r){1&o&&(t.TgZ(0,"span",33),t._uU(1,"Password should be 5 character."),t.qZA())}function Yt(o,r){if(1&o&&(t.TgZ(0,"div",31),t.YNc(1,Qt,2,0,"span",32),t.YNc(2,Bt,2,0,"span",32),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.registerFormControls.password.errors.required),t.xp6(1),t.Q6J("ngIf",e.registerFormControls.password.errors.minlength)}}function Rt(o,r){1&o&&(t.TgZ(0,"span",33),t._uU(1,"Password is required."),t.qZA())}function Dt(o,r){1&o&&(t.TgZ(0,"span",33),t._uU(1,"Password should be 5 character."),t.qZA())}function Et(o,r){1&o&&(t.TgZ(0,"span",33),t._uU(1," Password and Confirm Password must be match. "),t.qZA())}function Vt(o,r){if(1&o&&(t.TgZ(0,"div",31),t.YNc(1,Rt,2,0,"span",32),t.YNc(2,Dt,2,0,"span",32),t.YNc(3,Et,2,0,"span",32),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.registerFormControls.confirmPassword.errors.required),t.xp6(1),t.Q6J("ngIf",e.registerFormControls.confirmPassword.errors.minlength),t.xp6(1),t.Q6J("ngIf",e.registerFormControls.confirmPassword.errors.confirmedValidator)}}function Kt(o,r){1&o&&(t.TgZ(0,"button",34),t._uU(1," Reset password "),t.qZA())}function jt(o,r){1&o&&(t.TgZ(0,"button",35),t._uU(1," Reseting... "),t.TgZ(2,"span",36),t.O4$(),t.TgZ(3,"svg",37),t._UZ(4,"circle",38)(5,"path",39),t.qZA()()())}function $t(o,r){if(1&o){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"app-alert-modal",40)(1,"div",41)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",42)(5,"button",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.cancelErrorAlert())}),t._uU(6,"Ok"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("error",!0),t.xp6(3),t.Oqu(e.errorMessage.title)}}function Gt(o,r){if(1&o){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"app-alert-modal",44)(1,"div",41)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",42)(5,"button",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.cancelSuccessAlert())}),t._uU(6,"Ok"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("success",!0),t.xp6(3),t.Oqu(e.successMessage)}}const q=function(o){return{"is-invalid":o}},Ht=function(){return["/auth/login"]},zt=[{path:"login",component:ot},{path:"forgot-password",component:D},{path:"otp-validation",component:(()=>{class o{constructor(e,s){this.commonService=e,this.service=s,this.errorShowAlert=!1,this.successShowAlert=!1,this.errorMessage={},this.successMessage="",this.destroy$=new v.xQ}ngOnInit(){this.theme="dark"===localStorage.getItem("theme")?localStorage.getItem("theme"):"default"}getOtpVerified(e){6===e.length&&(this.commonService.viaRegister?this._userRegister(e):setTimeout(()=>{this.commonService.otp=e,this.commonService.routingWithReplaceUrl("auth/change-password")},2e3))}_userRegister(e){let s={email:this.commonService.userEmail,resetToken:e,password:this.commonService.sharingPassword};console.log(s,"this.commonService.viaRegister"),this.service.post("/reset","Auth",s).pipe((0,d.R)(this.destroy$),(0,g.b)(n=>{"success"===n.response.status&&(this.successMessage="User Registerd Successfully",this.successShowAlert=!0,this.commonService.sharingPassword="",this.commonService.viaRegister=!1)}),(0,f.K)(n=>(this.errorShowAlert=!0,this.errorMessage.title=n.errorMessages[0],this.commonService.validatingOtp=!1,(0,h.of)(this.errorMessage)))).subscribe()}cancelSuccessAlert(){this.successShowAlert=!1,this.commonService.routingWithReplaceUrl("auth/login"),this.commonService.otp=0}ngOnDestroy(){this.commonService.maskedEmail="",this.destroy$.next(),this.destroy$.complete(),this.commonService.validatingOtp=!1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.J),t.Y36(w.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-otp-validation"]],decls:31,vars:10,consts:[[1,"auth-inner","row","m-0"],[1,"brand-logo",3,"routerLink"],["alt","Logo","src","assets/images/Logo_white.png",1,"logo_white"],["alt","Logo","src","assets/images/Logo_dark.png",1,"logo_dark"],[1,"d-none","d-lg-flex","col-lg-8","align-items-center","p-5"],[1,"w-100","d-lg-flex","align-items-center","justify-content-center","px-5"],["alt","Forgot password","src","assets/images/fgPass/otp.svg",1,"img-fluid"],[1,"d-flex","col-lg-4","align-items-center","auth-bg","px-2","p-lg-5"],[1,"col-12","col-sm-8","col-md-6","col-lg-12","px-xl-2","mx-auto"],[1,"card-title","font-weight-bold","mb-3"],[1,"card-text","mb-2"],[1,"email-hide"],[1,"mt-3"],["for","forgot-password-email",1,"form-label"],[3,"shareOtp"],[1,"text-center","mt-2"],[1,"d-inline-flex","align-items-center","justify-content-center","cursor-pointer",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-chevron-left","mb-25"],["points","15 18 9 12 15 6"],[3,"error",4,"ngIf"],[3,"success",4,"ngIf"],[3,"error"],[1,"body-container","d-flex","flex-column","justify-content-center"],[1,"actions","d-flex"],[1,"ok","d-inline-block",3,"click"],[3,"success"]],template:function(e,s){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"a",1),t._UZ(3,"img",2)(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"img",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8),t.ynx(10),t.TgZ(11,"h2",9),t._uU(12,"OTP Validation \u{1f4ec}"),t.qZA(),t.TgZ(13,"p",10),t._uU(14," Please enter the one time password to verify your account. "),t.qZA(),t.TgZ(15,"div",11)(16,"span"),t._uU(17,"A code has been sent to"),t.qZA(),t.TgZ(18,"small"),t._uU(19),t.qZA()(),t.TgZ(20,"div",12)(21,"label",13),t._uU(22,"OTP"),t.qZA(),t.TgZ(23,"app-update-password",14),t.NdJ("shareOtp",function(a){return s.getOtpVerified(a)}),t.qZA(),t.TgZ(24,"p",15)(25,"a",16),t.O4$(),t.TgZ(26,"svg",17),t._UZ(27,"polyline",18),t.qZA(),t._uU(28," Back to login"),t.qZA()()(),t.BQk(),t.qZA()()()(),t.YNc(29,Ot,7,2,"app-alert-modal",19),t.YNc(30,Jt,7,2,"app-alert-modal",20)),2&e&&(t.Gre("",s.theme,"-auth-wrapper"),t.xp6(2),t.Q6J("routerLink",t.DdM(8,Nt)),t.xp6(17),t.hij(" ",s.commonService.maskedEmail," "),t.xp6(6),t.Q6J("routerLink",t.DdM(9,Lt)),t.xp6(4),t.Q6J("ngIf",s.errorShowAlert),t.xp6(1),t.Q6J("ngIf",s.successShowAlert))},dependencies:[c.O5,u.yS,b.F,Ft]}),o})()},{path:"change-password",component:(()=>{class o{constructor(e,s,n,a){this.formBuilder=e,this.commonService=s,this.service=n,this.location=a,this.passCheck=!1,this.confirmPassCheck=!1,this.submitted=!1,this.errorShowAlert=!1,this.successShowAlert=!1,this.errorMessage={},this.successMessage="",this.resetting=!1,this.destroy$=new v.xQ}ngOnInit(){this.theme="dark"===localStorage.getItem("theme")?localStorage.getItem("theme"):"default",this.userPasswordChangeForm=this.formBuilder.group({password:[null,[i.kI.required,i.kI.minLength(5)]],confirmPassword:[null,[i.kI.required,i.kI.minLength(5)]]},{validator:I("password","confirmPassword")})}get registerFormControls(){return this.userPasswordChangeForm.controls}changePassword(){this.submitted=!0,!this.userPasswordChangeForm.invalid&&this.userPasswordChangeForm.valid&&(this.resetting=!0,this.userPasswordChangeForm.value.email=this.commonService.userEmail,this.userPasswordChangeForm.value.resetToken=this.commonService.otp,this.service.post("/reset","Auth",this.userPasswordChangeForm.value).pipe((0,d.R)(this.destroy$),(0,x.x)(()=>this.resetting=!1),(0,g.b)(e=>{"success"===e.response.status&&(this.successMessage=e.response.message,this.successShowAlert=!0)}),(0,f.K)(e=>(this.errorShowAlert=!0,this.errorMessage.title=e.errorMessages[0],(0,h.of)(e)))).subscribe())}cancelErrorAlert(){this.errorShowAlert=!1,this.commonService.routingWithReplaceUrl("auth/otp-validation")}cancelSuccessAlert(){this.successShowAlert=!1,this.commonService.routingWithReplaceUrl("auth/login"),this.commonService.otp=0}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(_.J),t.Y36(w.s),t.Y36(c.Ye))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-password-validation"]],decls:43,vars:22,consts:[[1,"auth-inner","row","m-0"],["href","javascript:void(0);",1,"brand-logo"],["alt","Logo","src","assets/images/Logo_white.png",1,"logo_white"],["alt","Logo","src","assets/images/Logo_dark.png",1,"logo_dark"],[1,"d-none","d-lg-flex","col-lg-8","align-items-center","p-5"],[1,"w-100","d-lg-flex","align-items-center","justify-content-center","px-5"],["alt","Forgot password","src","assets/images/fgPass/reset.svg",1,"img-fluid"],[1,"d-flex","col-lg-4","align-items-center","auth-bg","px-2","p-lg-5"],[1,"col-12","col-sm-8","col-md-6","col-lg-12","px-xl-2","mx-auto"],[1,"card-title","font-weight-bold","mb-3"],[1,"card-text","mb-2"],[1,"auth-forgot-password-form","mt-2",3,"formGroup","ngSubmit"],[1,"form-group"],["for","register-password",1,"form-label"],[1,"input-group","input-group-merge"],["placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7","aria-describedby","register-password","formControlName","password",1,"form-control","form-control-merge",3,"type","ngClass"],[1,"input-group-append"],[1,"input-group-text","cursor-pointer",3,"click"],[1,"font-small-4",3,"ngClass"],["class","invalid-feedback w-100 d-flex align-items-center justify-content-start",4,"ngIf"],[1,"d-flex","justify-content-between"],["for","login-password"],["formControlName","confirmPassword","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",1,"form-control",3,"type","ngClass"],["class","btn btn-primary btn-block font-weight-bold","type","submit",4,"ngIf"],["class","btn btn-primary btn-block font-weight-bold","type","button",4,"ngIf"],[1,"text-center","mt-2"],[1,"d-flex","align-items-center","justify-content-center",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-chevron-left","mb-25","mr-1"],["points","15 18 9 12 15 6"],[3,"error",4,"ngIf"],[3,"success",4,"ngIf"],[1,"invalid-feedback","w-100","d-flex","align-items-center","justify-content-start"],["class","error-span",4,"ngIf"],[1,"error-span"],["type","submit",1,"btn","btn-primary","btn-block","font-weight-bold"],["type","button",1,"btn","btn-primary","btn-block","font-weight-bold"],[1,"ml-2","set-spin","position-relative"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","text-pink"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","#fff","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[3,"error"],[1,"body-container","d-flex","flex-column","justify-content-center"],[1,"actions","d-flex"],[1,"ok","d-inline-block",3,"click"],[3,"success"]],template:function(e,s){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"a",1),t._UZ(3,"img",2)(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"img",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"h2",9),t._uU(11,"Reset Password \u{1f511}"),t.qZA(),t.TgZ(12,"p",10),t._uU(13," Enter the new and confirm password "),t.qZA(),t.TgZ(14,"form",11),t.NdJ("ngSubmit",function(){return s.changePassword()}),t.TgZ(15,"div",12)(16,"label",13),t._uU(17,"Password"),t.qZA(),t.TgZ(18,"div",14),t._UZ(19,"input",15),t.TgZ(20,"div",16)(21,"span",17),t.NdJ("click",function(){return s.passCheck=!s.passCheck}),t._UZ(22,"i",18),t.qZA()(),t.YNc(23,Yt,3,2,"div",19),t.qZA()(),t.TgZ(24,"div",12)(25,"div",20)(26,"label",21),t._uU(27,"Confirm Password"),t.qZA()(),t.TgZ(28,"div",14),t._UZ(29,"input",22),t.TgZ(30,"div",16)(31,"span",17),t.NdJ("click",function(){return s.confirmPassCheck=!s.confirmPassCheck}),t._UZ(32,"i",18),t.qZA()(),t.YNc(33,Vt,4,3,"div",19),t.qZA()(),t.YNc(34,Kt,2,0,"button",23),t.YNc(35,jt,6,0,"button",24),t.qZA(),t.TgZ(36,"p",25)(37,"a",26),t.O4$(),t.TgZ(38,"svg",27),t._UZ(39,"polyline",28),t.qZA(),t._uU(40," Back to login"),t.qZA()()()()()(),t.YNc(41,$t,7,2,"app-alert-modal",29),t.YNc(42,Gt,7,2,"app-alert-modal",30)),2&e&&(t.Gre("",s.theme,"-auth-wrapper"),t.xp6(14),t.Q6J("formGroup",s.userPasswordChangeForm),t.xp6(5),t.Q6J("type",s.passCheck?"text":"password")("ngClass",t.VKq(17,q,s.submitted&&s.registerFormControls.password.errors)),t.xp6(3),t.Q6J("ngClass",s.passCheck?"mdi mdi-eye-off":"mdi mdi-eye"),t.xp6(1),t.Q6J("ngIf",s.submitted&&s.registerFormControls.password.errors),t.xp6(6),t.Q6J("type",s.confirmPassCheck?"text":"password")("ngClass",t.VKq(19,q,s.submitted&&s.registerFormControls.password.errors)),t.xp6(3),t.Q6J("ngClass",s.confirmPassCheck?"mdi mdi-eye-off":"mdi mdi-eye"),t.xp6(1),t.Q6J("ngIf",s.submitted&&s.registerFormControls.confirmPassword.errors),t.xp6(1),t.Q6J("ngIf",!s.resetting),t.xp6(1),t.Q6J("ngIf",s.resetting),t.xp6(2),t.Q6J("routerLink",t.DdM(21,Ht)),t.xp6(4),t.Q6J("ngIf",s.errorShowAlert),t.xp6(1),t.Q6J("ngIf",s.successShowAlert))},dependencies:[c.mk,c.O5,u.yS,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,b.F]}),o})()},{path:"register",component:yt}];let Xt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(zt),u.Bz]}),o})();var Wt=l(2223);let te=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,Xt,T.IJ,i.u5,i.UX,St,Wt.q]}),o})()}}]);